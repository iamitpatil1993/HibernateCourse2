<?xml version="1.0" encoding="UTF-8"?>

<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence
             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"
	version="2.1">

	<persistence-unit name="JPADB" transaction-type="RESOURCE_LOCAL">
		<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
		<properties>
			<!-- Database connection properties -->
			<!-- <property name="javax.persistence.jdbc.url" value="jdbc:mysql://localhost:3306/hibernate_tutorial" 
				/> -->
			<property name="javax.persistence.jdbc.url"
				value="jdbc:postgresql://localhost:5432/hibernate_tutorial" />
				
			<!-- <property name="javax.persistence.jdbc.user" value="root" /> <property 
				name="javax.persistence.jdbc.password" value="asdf1234" /> -->
			<property name="javax.persistence.jdbc.user" value="postgres" />
			<property name="javax.persistence.jdbc.password" value="asdf1234" />


			<!-- Use latest mysql driver instead of old deprecated one com.mysql.jdbc.Driver -->
			<!-- <property name="javax.persistence.jdbc.driver" value="com.mysql.cj.jdbc.Driver" 
				/> -->
			<property name="javax.persistence.jdbc.driver" value="org.postgresql.Driver" />

			<!-- properties to log and format sql statements generated by hibernate -->
			<property name="hibernate.show_sql" value="true" />
			<property name="hibernate.format_sql" value="true" />
			<property name="use_sql_comments" value="true" />

			<!-- Dialect to be use -->
			<!-- Use latest Mysql5Dialect instead of old MysqlDialect -->
			<!-- <property name="hibernate.dialect" value="org.hibernate.dialect.MySQL5Dialect" /> -->
			<property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect" />

			<!-- Assiigns null value to entity identifier after entity deletion to make it purely transient -->
			<property name="hibernate.use_identifier_rollback" value = "true"/>

			<!-- This proprty says hibernate to throw exception if Immutable entity is being update by Query execution.
			if this is not set warning will be printed on log but no update query will be executed on database -->
			<property  name="hibernate.query.immutable_entity_update_query_handling_mode"  value="exception" />
			
			<!-- Schema update configuration -->
			<property name="hibernate.hbm2ddl.auto" value="validate" />
		</properties>
	</persistence-unit>
</persistence>